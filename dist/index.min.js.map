{"version":3,"names":["Object","defineProperty","exports","value","Logger","GitRepo","RefDiff","RefDiffTypes","child_process_1","require","logger_1","enumerable","get","String","static","message","type","sourceRefs","targetRefs","sourceRef","targetRef","repoUrl","_refs","refNameIndex","refHashIndex","constructor","this","info","getRefs","debug","fetchRefs","trace","result","Promise","resolve","reject","startsWith","errorMsg","error","Error","execFile","stdout","refs","split","filter","line","map","hash","name","silly","length","_buildRefIndexes","Map","ref","set","getRefByName","warn","getRefByHash","refsDiffer","targetRepo","all","refDiff","criticalError","fatal","refCountMismatch","refNotFound","hashMismatch","main","module","logLevel","sourceRepo","pop","diffResult","toString"],"sources":["dist/index.js"],"mappings":"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","ignoreList":[]}